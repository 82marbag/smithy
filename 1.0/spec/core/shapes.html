
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>3. Shapes &#8212; Smithy 1.0 documentation</title><link rel="stylesheet" href="../../../_static/bootstrap-reboot.css" type="text/css" />
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinx_tabs/tabs.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinx_tabs/semantic-ui-2.2.10/segment.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinx_tabs/semantic-ui-2.2.10/menu.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinx_tabs/semantic-ui-2.2.10/tab.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/custom-tabs.css" type="text/css" />

    
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/sphinx_tabs/tabs.js"></script>
    <script type="text/javascript" src="../../../_static/sphinx_tabs/semantic-ui-2.2.10/tab.min.js"></script>
    <script type="text/javascript">
        function _scroll(subjectId) {
            var subjectElement = $(subjectId);
            var actualSubjectHeight = subjectElement.height();
            var startingPosition = subjectElement[0].getBoundingClientRect().top;
            return function() {
                var availableHeight = $(window).height() - startingPosition;
                // Subtract the scroll position to account for sticky movement.
                availableHeight += Math.min($(window).scrollTop(), 40);
                var cappedHeight = Math.min(actualSubjectHeight, availableHeight);
                if (subjectElement.css("height") !== cappedHeight) {
                    subjectElement.css("height", cappedHeight);
                }
            };
        }

        // Scroll and resize the the columns when scrolled.
        $(function() {
            var rightScroll = _scroll("#right-column > .column-body");
            var scrollFn = function() {
                rightScroll.call(this, arguments);
            };
            scrollFn();
            $(window).scroll(scrollFn);
            $(window).resize(scrollFn);
        });

        // Scroll spy to change highlighted navigation element.
        $(function() {
            var section = document.querySelectorAll(".section");
            var sections = {};
            var i = 0;
            Array.prototype.forEach.call(section, function(e) {
                sections[e.id] = e.offsetTop;
            });
            var scrollSpy = function() {
                var scrollPosition = document.documentElement.scrollTop || document.body.scrollTop;
                for (i in sections) {
                    if (sections[i] <= scrollPosition) {
                        $('#right-column .current').removeClass('current');
                        $("#right-column a[href='#" + i + "']").addClass('current');
                    }
                }
            };
            $(window).scroll(scrollSpy);
            scrollSpy();
        });
    </script>
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="4. Prelude model" href="prelude-model.html" />
    <link rel="prev" title="2. Smithy IDL lexical structure" href="lexical-structure.html" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  </head><body>
    <header>
        <div class="header-flex width-wrapper">
            <div class="site-logo">
                <a href="../../../index.html">
                    <span class="logo-icon">üî®Ô∏è</span><span class="logo-text">Smithy</span>
                </a>
                <span class="version-text">1.0</span>
            </div>
            <ul id="page-navigation">
                <li class="site-page first"><a href="../../../quickstart.html">Quick Start</a></li>
                <li class="site-page"><a href="../index.html">Specifications</a></li>
                <li class="site-page"><a href="../../guides/index.html">Guides</a></li>
                <li class="site-page"><a href="https://github.com/awslabs/smithy">Code</a></li>
                <li class="site-search hidden-sm">
                    <form action="../../../search.html" method="get">
                        <input type="hidden" name="check_keywords" value="yes" />
                        <input type="hidden" name="area" value="default" />
                        <input class="search-input" autocomplete="off" type="search" name="q" placeholder="Search" />
                    </form>
                </li>
            </ul>
        </div>
    </header>
    
        
        
        <section id="page-container">
            <div class="width-wrapper flex">
                <article id="document-body">
                    
                    <ul class="rel-parents">
                    <li><a href="../index.html" >Specifications</a></li>
                    <li><a href="index.html" accesskey="U">Smithy specification</a></li>
                    </ul>
                    
                    
  <div class="section" id="shapes">
<span id="id1"></span><h1><a href="#shapes">3. Shapes</a></h1>
<p><em>Shapes</em> are named data definitions that describe the structure of an API.
Shapes have a <em>type</em> that represents the type of values that a shape
represents. Types like <code class="docutils literal notranslate"><span class="pre">string</span></code>, <code class="docutils literal notranslate"><span class="pre">structure</span></code>, and <code class="docutils literal notranslate"><span class="pre">operation</span></code> represent
the kinds of shapes that can be used in a model, while shapes like
<code class="docutils literal notranslate"><span class="pre">MyString</span></code>, <code class="docutils literal notranslate"><span class="pre">MyStructure</span></code>, and <code class="docutils literal notranslate"><span class="pre">MyOperation</span></code> define a referenceable
instance of a type.</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of contents</p>
<ul class="simple">
<li><a class="reference internal" href="#shape-section" id="id33">Shape section</a></li>
<li><a class="reference internal" href="#defining-shapes" id="id34">Defining shapes</a></li>
<li><a class="reference internal" href="#simple-types" id="id35">Simple types</a></li>
<li><a class="reference internal" href="#aggregate-types" id="id36">Aggregate types</a></li>
<li><a class="reference internal" href="#service-types" id="id37">Service types</a></li>
</ul>
</div>
<div class="section" id="shape-section">
<h2><a href="#shape-section">3.1. Shape section</a></h2>
<p>The shape section of the IDL is used to define shapes and apply traits to
shapes. It comes after any <a class="reference internal" href="lexical-structure.html#grammar-token-control_section"><code class="xref std std-token docutils literal notranslate"><span class="pre">control</span> <span class="pre">statements</span></code></a> and
<a class="reference internal" href="model-metadata.html#grammar-token-metadata_section"><code class="xref std std-token docutils literal notranslate"><span class="pre">metadata</span> <span class="pre">statements</span></code></a>.</p>
<pre>
<strong id="grammar-token-shape_section">shape_section</strong> =
    [<a class="reference internal" href="#grammar-token-namespace_statement"><code class="xref docutils literal notranslate"><span class="pre">namespace_statement</span></code></a> [<a class="reference internal" href="#grammar-token-use_section"><code class="xref docutils literal notranslate"><span class="pre">use_section</span></code></a>] [<a class="reference internal" href="#grammar-token-shape_statements"><code class="xref docutils literal notranslate"><span class="pre">shape_statements</span></code></a>]]
</pre>
<div class="section" id="namespaces">
<span id="id2"></span><h3><a href="#namespaces">3.1.1. Namespaces</a></h3>
<p>Shapes are defined inside a <em class="dfn">namespace</em>. A namespace is mechanism for
logically grouping shapes in a way that makes them reusable alongside other
models without naming conflicts.</p>
<p id="namespace-statement">Shapes can only be defined if a namespace is declared, and only a single
namespace can appear in an IDL model file.</p>
<pre>
<strong id="grammar-token-namespace_statement">namespace_statement</strong> =
    &quot;namespace&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-namespace"><code class="xref docutils literal notranslate"><span class="pre">namespace</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-br"><code class="xref docutils literal notranslate"><span class="pre">br</span></code></a>
</pre>
<p>The following example defines a string shape named <code class="docutils literal notranslate"><span class="pre">MyString</span></code> in the
<code class="docutils literal notranslate"><span class="pre">smithy.example</span></code> namespace:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">namespace</span><span class="nc"> smithy.example</span>

<span class="kd">string</span><span class="nc"> MyString</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyString&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="referring-to-shapes">
<span id="use-statement"></span><h3><a href="#referring-to-shapes">3.1.2. Referring to shapes</a></h3>
<p>The <em>use section</em> of the IDL is used to import shapes into the current
namespace so that they can be referred to using a relative shape.</p>
<pre>
<strong id="grammar-token-use_section">use_section</strong> =
    *(<a class="reference internal" href="#grammar-token-use_statement"><code class="xref docutils literal notranslate"><span class="pre">use_statement</span></code></a>)

<strong id="grammar-token-use_statement">use_statement</strong> =
    &quot;use&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-absolute_root_shape_id"><code class="xref docutils literal notranslate"><span class="pre">absolute_root_shape_id</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-br"><code class="xref docutils literal notranslate"><span class="pre">br</span></code></a>
</pre>
<p>The following example imports <code class="docutils literal notranslate"><span class="pre">smithy.example#Foo</span></code> and
<code class="docutils literal notranslate"><span class="pre">smithy.example#Baz</span></code> so that they can be referred to by
<a class="reference internal" href="#relative-shape-id"><span class="std std-ref">relative shape IDs</span></a>:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">namespace</span><span class="nc"> smithy.hello</span>

<span class="kd">use</span><span class="nc"> smithy.example#Foo</span>
<span class="kd">use</span><span class="nc"> smithy.example#Baz</span>

<span class="kd">map</span><span class="nc"> MyMap</span> {
    <span class="c">// Resolves to smithy.example#Foo</span>
    <span class="nl">key:</span> <span class="vc">Foo</span>,
    <span class="c">// Resolves to smithy.example#Baz</span>
    <span class="nl">value:</span> <span class="vc">Baz</span>,
}
</pre></div>
</div>
<p>A use statement can import <a class="reference internal" href="traits.html#traits"><span class="std std-ref">traits</span></a> too. The following example
imports the <code class="docutils literal notranslate"><span class="pre">smithy.example#test</span></code> and <code class="docutils literal notranslate"><span class="pre">smithy.example#anotherTrait</span></code>
traits so that they can be applied using relative shape IDs:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">namespace</span><span class="nc"> smithy.hello</span>

<span class="kd">use</span><span class="nc"> smithy.example#test</span>
<span class="kd">use</span><span class="nc"> smithy.example#anotherTrait</span>

<span class="nd">@test</span> <span class="c">// &lt;-- Resolves to smithy.example#test</span>
<span class="kd">string</span><span class="nc"> MyString</span>
</pre></div>
</div>
<p class="rubric">Validation</p>
<ol class="arabic simple">
<li>A shape cannot be defined in a file with the same name as one of the
shapes imported with a <code class="docutils literal notranslate"><span class="pre">use</span></code> statement.</li>
<li>Shapes IDs with members names cannot be imported with a use statement.</li>
</ol>
<div class="section" id="relative-shape-id-resolution">
<span id="relative-shape-id"></span><h4><a href="#relative-shape-id-resolution">3.1.2.1. Relative shape ID resolution</a></h4>
<p>In the Smithy IDL, relative shape IDs are resolved using the following process:</p>
<ol class="arabic simple">
<li>If a <a class="reference internal" href="#grammar-token-use_statement"><code class="xref std std-token docutils literal notranslate"><span class="pre">use_statement</span></code></a> has imported a shape with the same name,
the shape ID resolves to the imported shape ID.</li>
<li>If a shape is defined in the same namespace as the shape with the same name,
the namespace of the shape resolves to the <em>current namespace</em>.</li>
<li>If a shape is defined in the <a class="reference internal" href="prelude-model.html#prelude"><span class="std std-ref">prelude</span></a> with the same name,
the namespace resolves to <code class="docutils literal notranslate"><span class="pre">smithy.api</span></code>.</li>
<li>If a relative shape ID does not satisfy one of the above cases, the shape
ID is invalid, and the namespace is inherited from the <em>current namespace</em>.</li>
</ol>
<p>The following example Smithy model contains comments above each member of
the shape named <code class="docutils literal notranslate"><span class="pre">MyStructure</span></code> that describes the shape the member resolves
to.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">namespace</span><span class="nc"> smithy.example</span>

<span class="kd">use</span><span class="nc"> foo.baz#Bar</span>

<span class="kd">string</span><span class="nc"> MyString</span>

<span class="kd">structure</span><span class="nc"> MyStructure</span> {
    <span class="c">// Resolves to smithy.example#MyString</span>
    <span class="c">// There is a shape named MyString defined in the same namespace.</span>
    <span class="nl">a:</span> <span class="vc">MyString</span>,

    <span class="c">// Resolves to smithy.example#MyString</span>
    <span class="c">// Absolute shape IDs do not perform namespace resolution.</span>
    <span class="nl">b:</span> <span class="vc">smithy.example#MyString</span>,

    <span class="c">// Resolves to foo.baz#Bar</span>
    <span class="c">// The &quot;use foo.baz#Bar&quot; statement imported the Bar symbol,</span>
    <span class="c">// allowing the shape to be referenced using a relative shape ID.</span>
    <span class="nl">c:</span> <span class="vc">Bar</span>,

    <span class="c">// Resolves to foo.baz#Bar</span>
    <span class="c">// Absolute shape IDs do not perform namespace resolution.</span>
    <span class="nl">d:</span> <span class="vc">foo.baz#Bar</span>,

    <span class="c">// Resolves to foo.baz#MyString</span>
    <span class="c">// Absolute shape IDs do not perform namespace resolution.</span>
    <span class="nl">e:</span> <span class="vc">foo.baz#MyString</span>,

    <span class="c">// Resolves to smithy.api#String</span>
    <span class="c">// No shape named String was imported through a use statement</span>
    <span class="c">// the smithy.example namespace does not contain a shape named</span>
    <span class="c">// String, and the prelude model contains a shape named String.</span>
    <span class="nl">f:</span> <span class="vc">String</span>,

    <span class="c">// Resolves to smithy.example#MyBoolean.</span>
    <span class="c">// There is a shape named MyBoolean defined in the same namespace.</span>
    <span class="c">// Forward references are supported both within the same file and</span>
    <span class="c">// across multiple files.</span>
    <span class="nl">g:</span> <span class="vc">MyBoolean</span>,

    <span class="c">// Invalid. A shape by this name has not been imported through a</span>
    <span class="c">// use statement, a shape by this name does not exist in the</span>
    <span class="c">// current namespace, and a shape by this name does not exist in</span>
    <span class="c">// the prelude model.</span>
    <span class="nl">h:</span> <span class="vc">InvalidShape</span>,
}

<span class="kd">boolean</span><span class="nc"> MyBoolean</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="defining-shapes">
<h2><a href="#defining-shapes">3.2. Defining shapes</a></h2>
<p>Shape statements are used to define shapes.</p>
<pre>
<strong id="grammar-token-shape_statements">shape_statements</strong> =
    *(<a class="reference internal" href="#grammar-token-shape_statement"><code class="xref docutils literal notranslate"><span class="pre">shape_statement</span></code></a> / <a class="reference internal" href="traits.html#grammar-token-apply_statement"><code class="xref docutils literal notranslate"><span class="pre">apply_statement</span></code></a>)

<strong id="grammar-token-shape_statement">shape_statement</strong> =
    [<a class="reference internal" href="#grammar-token-shape_documentation_comments"><code class="xref docutils literal notranslate"><span class="pre">shape_documentation_comments</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a>]
    <a class="reference internal" href="traits.html#grammar-token-trait_statements"><code class="xref docutils literal notranslate"><span class="pre">trait_statements</span></code></a>
    <a class="reference internal" href="#grammar-token-shape_body"><code class="xref docutils literal notranslate"><span class="pre">shape_body</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-br"><code class="xref docutils literal notranslate"><span class="pre">br</span></code></a>

<strong id="grammar-token-shape_documentation_comments">shape_documentation_comments</strong> =
    *(<a class="reference internal" href="lexical-structure.html#grammar-token-documentation_comment"><code class="xref docutils literal notranslate"><span class="pre">documentation_comment</span></code></a>)

<strong id="grammar-token-shape_body">shape_body</strong> =
    <a class="reference internal" href="#grammar-token-simple_shape_statement"><code class="xref docutils literal notranslate"><span class="pre">simple_shape_statement</span></code></a>
  / <a class="reference internal" href="#grammar-token-list_statement"><code class="xref docutils literal notranslate"><span class="pre">list_statement</span></code></a>
  / <a class="reference internal" href="#grammar-token-set_statement"><code class="xref docutils literal notranslate"><span class="pre">set_statement</span></code></a>
  / <a class="reference internal" href="#grammar-token-map_statement"><code class="xref docutils literal notranslate"><span class="pre">map_statement</span></code></a>
  / <a class="reference internal" href="#grammar-token-structure_statement"><code class="xref docutils literal notranslate"><span class="pre">structure_statement</span></code></a>
  / <a class="reference internal" href="#grammar-token-union_statement"><code class="xref docutils literal notranslate"><span class="pre">union_statement</span></code></a>
  / <a class="reference internal" href="#grammar-token-service_statement"><code class="xref docutils literal notranslate"><span class="pre">service_statement</span></code></a>
  / <a class="reference internal" href="#grammar-token-operation_statement"><code class="xref docutils literal notranslate"><span class="pre">operation_statement</span></code></a>
  / <a class="reference internal" href="#grammar-token-resource_statement"><code class="xref docutils literal notranslate"><span class="pre">resource_statement</span></code></a>
</pre>
<div class="section" id="shape-names">
<span id="id3"></span><h3><a href="#shape-names">3.2.1. Shape names</a></h3>
<p>Consumers of a Smithy model MAY choose to inflect shape names, structure
member names, and other facets of a Smithy model in order to expose a more
idiomatic experience to particular programming languages. In order to make this
easier for consumers of a model, model authors SHOULD utilize a strict form of
PascalCase in which only the first letter of acronyms, abbreviations, and
initialisms are capitalized.</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Recommended</th>
<th class="head">Not recommended</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>UserId</td>
<td>UserID</td>
</tr>
<tr class="row-odd"><td>ResourceArn</td>
<td>ResourceARN</td>
</tr>
<tr class="row-even"><td>IoChannel</td>
<td>IOChannel</td>
</tr>
<tr class="row-odd"><td>HtmlEntity</td>
<td>HTMLEntity</td>
</tr>
<tr class="row-even"><td>HtmlEntity</td>
<td>HTML_Entity</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="simple-types">
<span id="id4"></span><h2><a href="#simple-types">3.3. Simple types</a></h2>
<p><em>Simple types</em> are types that do not contain nested types or shape references.
Shapes that are simple types are defined using the following grammar:</p>
<pre>
<strong id="grammar-token-simple_shape_statement">simple_shape_statement</strong> =
    <a class="reference internal" href="#grammar-token-simple_type_name"><code class="xref docutils literal notranslate"><span class="pre">simple_type_name</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a>

<strong id="grammar-token-simple_type_name">simple_type_name</strong> =
    &quot;blob&quot; / &quot;boolean&quot; / &quot;document&quot; / &quot;string&quot;
  / &quot;byte&quot; / &quot;short&quot; / &quot;integer&quot; / &quot;long&quot;
  / &quot;float&quot; / &quot;double&quot; / &quot;bigInteger&quot;
  / &quot;bigDecimal&quot; / &quot;timestamp&quot;
</pre>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>blob</td>
<td>Uninterpreted binary data</td>
</tr>
<tr class="row-odd"><td>boolean</td>
<td>Boolean value type</td>
</tr>
<tr class="row-even"><td>string</td>
<td>UTF-8 encoded string</td>
</tr>
<tr class="row-odd"><td>byte</td>
<td>8-bit signed integer ranging from -128 to 127 (inclusive)</td>
</tr>
<tr class="row-even"><td>short</td>
<td>16-bit signed integer ranging from -32,768 to 32,767 (inclusive)</td>
</tr>
<tr class="row-odd"><td>integer</td>
<td>32-bit signed integer ranging from -2^31 to (2^31)-1 (inclusive)</td>
</tr>
<tr class="row-even"><td>long</td>
<td>64-bit signed integer ranging from -2^63 to (2^63)-1 (inclusive)</td>
</tr>
<tr class="row-odd"><td>float</td>
<td>Single precision IEEE-754 floating point number</td>
</tr>
<tr class="row-even"><td>double</td>
<td>Double precision IEEE-754 floating point number</td>
</tr>
<tr class="row-odd"><td>bigInteger</td>
<td>Arbitrarily large signed integer</td>
</tr>
<tr class="row-even"><td>bigDecimal</td>
<td>Arbitrary precision signed decimal number</td>
</tr>
<tr class="row-odd"><td>timestamp</td>
<td>Represents an instant in time with no UTC offset or timezone. The
serialization of a timestamp is determined by a
<a class="reference internal" href="protocol-traits.html#protocoldefinition-trait"><span class="std std-ref">protocol</span></a>.</td>
</tr>
<tr class="row-even"><td>document</td>
<td>A protocol-specific untyped value.</td>
</tr>
</tbody>
</table>
<p>The following example defines a shape for each simple type in the
<code class="docutils literal notranslate"><span class="pre">smithy.example</span></code> namespace:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">namespace</span><span class="nc"> smithy.example</span>

<span class="kd">blob</span><span class="nc"> Blob</span>
<span class="kd">boolean</span><span class="nc"> Boolean</span>
<span class="kd">string</span><span class="nc"> String</span>
<span class="kd">byte</span><span class="nc"> Byte</span>
<span class="kd">short</span><span class="nc"> Short</span>
<span class="kd">integer</span><span class="nc"> Integer</span>
<span class="kd">long</span><span class="nc"> Long</span>
<span class="kd">float</span><span class="nc"> Float</span>
<span class="kd">double</span><span class="nc"> Double</span>
<span class="kd">bigInteger</span><span class="nc"> BigInteger</span>
<span class="kd">bigDecimal</span><span class="nc"> BigDecimal</span>
<span class="kd">timestamp</span><span class="nc"> Timestamp</span>
<span class="kd">document</span><span class="nc"> Document</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#Blob&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;blob&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#Boolean&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#String&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#Byte&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;byte&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#Short&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;short&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#Integer&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#Long&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;long&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#Float&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#Double&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;double&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#BigInteger&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bigInteger&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#BigDecimal&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bigDecimal&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#Timestamp&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;timestamp&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#Document&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;document&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">The <a class="reference internal" href="prelude-model.html#prelude"><span class="std std-ref">prelude model</span></a> contains shapes for every simple type.
These shapes can be referenced using a relative shape ID
(for example, <code class="docutils literal notranslate"><span class="pre">String</span></code>) or using an absolute shape ID
(for example, <code class="docutils literal notranslate"><span class="pre">smithy.api#String</span></code>).</p>
</div>
<div class="section" id="timestamp-serialization-format">
<span id="id5"></span><h3><a href="#timestamp-serialization-format">3.3.1. Timestamp serialization format</a></h3>
<p>By default, the serialization format of a timestamp is implicitly determined by
the <a class="reference internal" href="protocol-traits.html#protocoldefinition-trait"><span class="std std-ref">protocol</span></a> of a service; however, the serialization
format can be explicitly configured in some protocols to override the default format
using the <a class="reference internal" href="protocol-traits.html#timestampformat-trait"><span class="std std-ref">timestampFormat trait</span></a>.</p>
<p>The following steps are taken to determine the serialization format of a
<a class="reference internal" href="#member"><span class="std std-ref">member</span></a> that targets a timestamp:</p>
<ol class="arabic simple">
<li>Use the <code class="docutils literal notranslate"><span class="pre">timestampFormat</span></code> trait of the member, if present.</li>
<li>Use the <code class="docutils literal notranslate"><span class="pre">timestampFormat</span></code> trait of the shape, if present.</li>
<li>Use the default format of the protocol.</li>
</ol>
<p>The timestamp shape is an abstraction of time; the serialization format of a
timestamp as it is sent over the wire, whether determined by the protocol or by
the <code class="docutils literal notranslate"><span class="pre">timestampFormat</span></code> trait, SHOULD NOT have any effect on the types exposed
by tooling to represent a timestamp.</p>
</div>
<div class="section" id="document-types">
<span id="document-type"></span><h3><a href="#document-types">3.3.2. Document types</a></h3>
<p>A document type represents a protocol-specific untyped value. Documents
are useful when interacting with data that has no predefined schema,
uses a schema language that is not compatible with Smithy, or if the schema
that defines the data is specified and versioned outside of the
Smithy model.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Not all protocols support document types</li>
<li>The serialization format of a document is protocol-specific.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="aggregate-types">
<span id="id6"></span><h2><a href="#aggregate-types">3.4. Aggregate types</a></h2>
<p>Aggregate types are types that are composed of other types. Aggregate shapes
reference other shapes using <a class="reference internal" href="#member"><span class="std std-ref">members</span></a>.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#member"><span class="std std-ref">Member</span></a></td>
<td>Defined in aggregate types to reference other shapes</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list"><span class="std std-ref">List</span></a></td>
<td>homogeneous collection of values</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#set"><span class="std std-ref">Set</span></a></td>
<td>Unordered collection of unique homogeneous values</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#map"><span class="std std-ref">Map</span></a></td>
<td>Map data structure that maps string keys to homogeneous values</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#structure"><span class="std std-ref">Structure</span></a></td>
<td>Fixed set of named heterogeneous members</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#union"><span class="std std-ref">Union</span></a></td>
<td>Tagged union data structure that can take on one of several
different, but fixed, types</td>
</tr>
</tbody>
</table>
<div class="section" id="member">
<span id="id7"></span><h3><a href="#member">3.4.1. Member</a></h3>
<p><em class="dfn">Members</em> are defined in aggregate types to reference other shapes using
a <a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">shape ID</span></a>. A member MUST NOT target an <code class="docutils literal notranslate"><span class="pre">operation</span></code>,
<code class="docutils literal notranslate"><span class="pre">resource</span></code>, <code class="docutils literal notranslate"><span class="pre">service</span></code>, <code class="docutils literal notranslate"><span class="pre">member</span></code>, or <a class="reference internal" href="traits.html#trait-shapes"><span class="std std-ref">trait shapes</span></a>.</p>
<p>The following example defines a list shape. The member of the list is a
member shape with a shape ID of <code class="docutils literal notranslate"><span class="pre">smithy.example#MyList$member</span></code>. The member
targets the <code class="docutils literal notranslate"><span class="pre">MyString</span></code> shape in the same namespace.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">namespace</span><span class="nc"> smithy.example</span>

<span class="kd">list</span><span class="nc"> MyList</span> {
    <span class="nl">member:</span> <span class="vc">MyString</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyList&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;member&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#MyString&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>All shapes that contain members use following ABNF to define members:</p>
<pre>
<strong id="grammar-token-shape_members">shape_members</strong> =
    <a class="reference internal" href="#grammar-token-empty_shape_members"><code class="xref docutils literal notranslate"><span class="pre">empty_shape_members</span></code></a> / <a class="reference internal" href="#grammar-token-populated_shape_members"><code class="xref docutils literal notranslate"><span class="pre">populated_shape_members</span></code></a>

<strong id="grammar-token-empty_shape_members">empty_shape_members</strong> =
    &quot;{&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> &quot;}&quot;

<strong id="grammar-token-populated_shape_members">populated_shape_members</strong> =
    &quot;{&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="#grammar-token-shape_member_kvp"><code class="xref docutils literal notranslate"><span class="pre">shape_member_kvp</span></code></a>
    *(<a class="reference internal" href="lexical-structure.html#grammar-token-comma"><code class="xref docutils literal notranslate"><span class="pre">comma</span></code></a> <a class="reference internal" href="#grammar-token-shape_member_kvp"><code class="xref docutils literal notranslate"><span class="pre">shape_member_kvp</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a>) <a class="reference internal" href="lexical-structure.html#grammar-token-trailing_comma"><code class="xref docutils literal notranslate"><span class="pre">trailing_comma</span></code></a> &quot;}&quot;

<strong id="grammar-token-shape_member_kvp">shape_member_kvp</strong> =
    [<a class="reference internal" href="#grammar-token-shape_documentation_comments"><code class="xref docutils literal notranslate"><span class="pre">shape_documentation_comments</span></code></a>]
    <a class="reference internal" href="traits.html#grammar-token-trait_statements"><code class="xref docutils literal notranslate"><span class="pre">trait_statements</span></code></a>
    <a class="reference internal" href="lexical-structure.html#grammar-token-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> &quot;:&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-shape_id"><code class="xref docutils literal notranslate"><span class="pre">shape_id</span></code></a>
</pre>
</div>
<div class="section" id="list">
<span id="id8"></span><h3><a href="#list">3.4.2. List</a></h3>
<p>The <em class="dfn">list</em> type represents a homogeneous collection of values. A list
statement requires that a <a class="reference internal" href="#member"><span class="std std-ref">member</span></a> named <code class="docutils literal notranslate"><span class="pre">member</span></code> is defined
in its body. Lists are defined using the following grammar:</p>
<pre>
<strong id="grammar-token-list_statement">list_statement</strong> =
    &quot;list&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="#grammar-token-shape_members"><code class="xref docutils literal notranslate"><span class="pre">shape_members</span></code></a>
</pre>
<p>The following example defines a list with a string member from the
<a class="reference internal" href="prelude-model.html#prelude"><span class="std std-ref">prelude</span></a>:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">list</span><span class="nc"> MyList</span> {
    <span class="nl">member:</span> <span class="vc">String</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyList&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;member&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Traits can be applied to the list shape and its member:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@length</span>(<span class="nl">min:</span> <span class="m">3</span>, <span class="nl">max:</span> <span class="m">10</span>)
<span class="kd">list</span><span class="nc"> MyList</span> {
    <span class="nd">@length</span>(<span class="nl">min:</span> <span class="m">1</span>, <span class="nl">max:</span> <span class="m">100</span>)
    <span class="nl">member:</span> <span class="vc">String</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyList&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;member&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span><span class="p">,</span>
                <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;smithy.api#length&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;min&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;max&quot;</span><span class="p">:</span> <span class="mi">100</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.api#length&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;min&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                    <span class="nt">&quot;max&quot;</span><span class="p">:</span> <span class="mi">10</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="set">
<span id="id9"></span><h3><a href="#set">3.4.3. Set</a></h3>
<p>The <em class="dfn">set</em> type represents an unordered collection of unique homogeneous
values. A set statement requires that a <a class="reference internal" href="#member"><span class="std std-ref">member</span></a> named
<code class="docutils literal notranslate"><span class="pre">member</span></code> is defined in its body. Sets are defined using the following
grammar:</p>
<pre>
<strong id="grammar-token-set_statement">set_statement</strong> =
    &quot;set&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="#grammar-token-shape_members"><code class="xref docutils literal notranslate"><span class="pre">shape_members</span></code></a>
</pre>
<p>The following example defines a set of strings:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">set</span><span class="nc"> StringSet</span> {
    <span class="nl">member:</span> <span class="vc">String</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#StringSet&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;member&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Traits can be applied to the set shape and its members:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@deprecated</span>
<span class="kd">set</span><span class="nc"> StringSet</span> {
    <span class="nd">@sensitive</span>
    <span class="nl">member:</span> <span class="vc">String</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#StringSet&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;member&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.api#deprecated&quot;</span><span class="p">:</span> <span class="p">{}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not all languages support set data structures. Such languages SHOULD
represent sets as a custom set data structure that can interpret value
hash codes and equality, or alternatively, store the values of a set
data structure in a list and rely on validation to ensure uniqueness.</p>
</div>
</div>
<div class="section" id="map">
<span id="id10"></span><h3><a href="#map">3.4.4. Map</a></h3>
<p>The <em class="dfn">map</em> type represents a map data structure that maps string keys to
homogeneous values. A map cannot contain duplicate keys. A map statement
requires that a <code class="docutils literal notranslate"><span class="pre">key</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code> <a class="reference internal" href="#member"><span class="std std-ref">member</span></a> are defined in
its body. The <code class="docutils literal notranslate"><span class="pre">key</span></code> member of a map MUST target a <code class="docutils literal notranslate"><span class="pre">string</span></code> shape.</p>
<p>Maps are defined using the following grammar:</p>
<pre>
<strong id="grammar-token-map_statement">map_statement</strong> =
    &quot;map&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="#grammar-token-shape_members"><code class="xref docutils literal notranslate"><span class="pre">shape_members</span></code></a>
</pre>
<p>The following example defines a map of strings to integers:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">map</span><span class="nc"> IntegerMap</span> {
    <span class="nl">key:</span> <span class="vc">String</span>,
    <span class="nl">value:</span> <span class="vc">Integer</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#IntegerMap&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Traits can be applied to the map shape and its members:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@length</span>(<span class="nl">min:</span> <span class="m">0</span>, <span class="nl">max:</span> <span class="m">100</span>)
<span class="kd">map</span><span class="nc"> IntegerMap</span> {
    <span class="nd">@length</span>(<span class="nl">min:</span> <span class="m">1</span>, <span class="nl">max:</span> <span class="m">10</span>)
    <span class="nl">key:</span> <span class="vc">String</span>,

    <span class="nd">@sensitive</span>
    <span class="nl">value:</span> <span class="vc">Integer</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#IntegerMap&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span><span class="p">,</span>
                <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;smithy.api#length&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;min&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;max&quot;</span><span class="p">:</span> <span class="mi">10</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span><span class="p">,</span>
                <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;smithy.api#sensitive&quot;</span><span class="p">:</span> <span class="p">{}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.api#length&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="nt">&quot;max&quot;</span><span class="p">:</span> <span class="mi">100</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="structure">
<span id="id11"></span><h3><a href="#structure">3.4.5. Structure</a></h3>
<p>The <em class="dfn">structure</em> type represents a fixed set of named, unordered,
heterogeneous members. A member name maps to exactly one structure
<a class="reference internal" href="#member"><span class="std std-ref">member</span></a> definition. A structure is defined using the
following grammar:</p>
<pre>
<strong id="grammar-token-structure_statement">structure_statement</strong> =
    &quot;structure&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="#grammar-token-shape_members"><code class="xref docutils literal notranslate"><span class="pre">shape_members</span></code></a>
</pre>
<p>The following example defines a structure with two members:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">structure</span><span class="nc"> MyStructure</span> {
    <span class="nl">foo:</span> <span class="vc">String</span>,
    <span class="nl">baz:</span> <span class="vc">Integer</span>,
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyStructure&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;structure&quot;</span><span class="p">,</span>
            <span class="nt">&quot;members&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;baz&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#Integer&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Traits can be applied to structure members:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="cm">/// This is MyStructure.</span>
<span class="kd">structure</span><span class="nc"> MyStructure</span> {
    <span class="cm">/// This is documentation for `foo`.</span>
    <span class="nd">@required</span>
    <span class="nl">foo:</span> <span class="vc">String</span>,

    <span class="cm">/// This is documentation for `baz`.</span>
    <span class="nd">@deprecated</span>
    <span class="nl">baz:</span> <span class="vc">Integer</span>,
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyStructure&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;structure&quot;</span><span class="p">,</span>
            <span class="nt">&quot;members&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;smithy.api#documentation&quot;</span><span class="p">:</span> <span class="s2">&quot;This is documentation for `foo`.&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;smithy.api#required&quot;</span><span class="p">:</span> <span class="p">{}</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="nt">&quot;baz&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#Integer&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;smithy.api#documentation&quot;</span><span class="p">:</span> <span class="s2">&quot;This is documentation for `baz`.&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;smithy.api#deprecated&quot;</span><span class="p">:</span> <span class="p">{}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.api#documentation&quot;</span><span class="p">:</span> <span class="s2">&quot;This is MyStructure.&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>New members added to existing structures SHOULD be added to the end of the
structure. This ensures that programming languages that require a specific
data structure layout or alignment for code generated from Smithy models are
able to maintain backward compatibility.</p>
</div>
<div class="section" id="union">
<span id="id12"></span><h3><a href="#union">3.4.6. Union</a></h3>
<p>The union type represents a <a class="reference external" href="https://en.wikipedia.org/wiki/Tagged_union">tagged union data structure</a> that can take
on several different, but fixed, types. Only one type can be used at any
one time. A union is defined using the following grammar:</p>
<pre>
<strong id="grammar-token-union_statement">union_statement</strong> =
    &quot;union&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="#grammar-token-shape_members"><code class="xref docutils literal notranslate"><span class="pre">shape_members</span></code></a>
</pre>
<p>The following example defines a union shape with several members:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">union</span><span class="nc"> MyUnion</span> {
    <span class="nl">i32:</span> <span class="vc">Integer</span>,

    <span class="nl">stringA:</span> <span class="vc">String</span>,

    <span class="nd">@sensitive</span>
    <span class="nl">stringB:</span> <span class="vc">String</span>,
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyUnion&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;union&quot;</span><span class="p">,</span>
            <span class="nt">&quot;members&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;i32&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#Integer&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;stringA&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;stringB&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;smithy.api#sensitive&quot;</span><span class="p">:</span> <span class="p">{}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>New members added to existing unions SHOULD be added to the end of the
union. This ensures that programming languages that require a specific
data structure layout or alignment for code generated from Smithy models are
able to maintain backward compatibility.</p>
</div>
<div class="section" id="default-values">
<span id="id13"></span><h3><a href="#default-values">3.4.7. Default values</a></h3>
<p>The values provided for <a class="reference internal" href="#member"><span class="std std-ref">members</span></a> of
<a class="reference internal" href="#aggregate-types"><span class="std std-ref">aggregate shapes</span></a> are either always present and
set to a default value when necessary or <em>boxed</em>, meaning a value is
optionally present with no default value.</p>
<ul class="simple">
<li>The default value of a <code class="docutils literal notranslate"><span class="pre">byte</span></code>, <code class="docutils literal notranslate"><span class="pre">short</span></code>, <code class="docutils literal notranslate"><span class="pre">integer</span></code>, <code class="docutils literal notranslate"><span class="pre">long</span></code>,
<code class="docutils literal notranslate"><span class="pre">float</span></code>, and <code class="docutils literal notranslate"><span class="pre">double</span></code> shape that is not boxed is zero.</li>
<li>The default value of a <code class="docutils literal notranslate"><span class="pre">boolean</span></code> shape that is not boxed is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</li>
<li>All other shapes are always considered boxed and have no default value.</li>
</ul>
<p>Members are considered boxed if and only if the member is marked with the
<a class="reference internal" href="type-refinement-traits.html#box-trait"><span class="std std-ref">box trait</span></a> or the shape targeted by the member is marked
with the box trait. Members that target strings, timestamps, and
aggregate shapes are always considered boxed and have no default values.</p>
</div>
<div class="section" id="recursive-shape-definitions">
<h3><a href="#recursive-shape-definitions">3.4.8. Recursive shape definitions</a></h3>
<p>Smithy allows for recursive shape definitions with the following constraint:
the member of a list, set, or map cannot directly or transitively target its
containing shape unless one or more members in the path from the container
back to itself targets a structure or union shape. This ensures that shapes
that are typically impossible to define in various programming languages are
not defined in Smithy models (for example, you can't define a recursive list
in Java <code class="docutils literal notranslate"><span class="pre">List&lt;List&lt;List....</span></code>).</p>
<p>The following shape definition is invalid:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">list</span><span class="nc"> RecursiveList</span> {
    <span class="nl">member:</span> <span class="vc">RecursiveList</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#RecursiveList&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span>
            <span class="nt">&quot;member&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#RecursiveList&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>The following shape definition is valid:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">list</span><span class="nc"> ValidList</span> {
    <span class="nl">member:</span> <span class="vc">IntermediateStructure</span>
}

<span class="kd">structure</span><span class="nc"> IntermediateStructure</span> {
    <span class="nl">foo:</span> <span class="vc">ValidList</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#ValidList&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span>
            <span class="nt">&quot;member&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#IntermediateStructure&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#IntermediateStructure&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;structure&quot;</span><span class="p">,</span>
            <span class="nt">&quot;members&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#ValidList&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="service-types">
<span id="id14"></span><h2><a href="#service-types">3.5. Service types</a></h2>
<p><em>Service types</em> are types that form services, resources, and operations.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#service"><span class="std std-ref">service</span></a></td>
<td>Entry point of an API that aggregates resources and operations together</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#operation"><span class="std std-ref">operation</span></a></td>
<td>Represents the input, output and possible errors of an API operation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#resource"><span class="std std-ref">resource</span></a></td>
<td>Entity with an identity that has a set of operations</td>
</tr>
</tbody>
</table>
<div class="section" id="service">
<span id="id15"></span><h3><a href="#service">3.5.1. Service</a></h3>
<p>A <em class="dfn">service</em> is the entry point of an API that aggregates resources and
operations together. The <a class="reference internal" href="#resource"><span class="std std-ref">resources</span></a> and
<a class="reference internal" href="#operation"><span class="std std-ref">operations</span></a> of an API are bound within the closure of a
service. A service shape is defined by the following grammar:</p>
<pre>
<strong id="grammar-token-service_statement">service_statement</strong> =
    &quot;service&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-node_object"><code class="xref docutils literal notranslate"><span class="pre">node_object</span></code></a>
</pre>
<p>The service shape supports the following members:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>version</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td><strong>Required</strong>. Defines the version of the service. The version can be
provided in any format (e.g., <code class="docutils literal notranslate"><span class="pre">2017-02-11</span></code>, <code class="docutils literal notranslate"><span class="pre">2.0</span></code>, etc).</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#service-operations"><span class="std std-ref">operations</span></a></td>
<td>[<a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">Shape ID</span></a>]</td>
<td>Binds a set of <code class="docutils literal notranslate"><span class="pre">operation</span></code> shapes to the service. Each
element in the given list is a shape ID that MUST target an
<a class="reference internal" href="#operation"><span class="std std-ref">operation</span></a>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#service-resources"><span class="std std-ref">resources</span></a></td>
<td>[<a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">Shape ID</span></a>]</td>
<td>Binds a set of <code class="docutils literal notranslate"><span class="pre">resource</span></code> shapes to the service. Each element in
the given list is a shape ID that MUST target a
<a class="reference internal" href="#resource"><span class="std std-ref">resource</span></a>.</td>
</tr>
</tbody>
</table>
<p>The following example defines a service with no operations or resources.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">service</span><span class="nc"> MyService</span> {
    <span class="nl">version:</span> <span class="s2">&quot;2017-02-11&quot;</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyService&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;service&quot;</span><span class="p">,</span>
            <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-02-11&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="service-operations">
<span id="id16"></span><h4><a href="#service-operations">3.5.1.1. Service operations</a></h4>
<p><a class="reference internal" href="#operation"><span class="std std-ref">Operation</span></a> shapes can be bound to a service by adding the
shape ID of an operation to the <code class="docutils literal notranslate"><span class="pre">operations</span></code> property of a service.
Operations bound directly to a service are typically RPC-style operations
that do not fit within a resource hierarchy.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">service</span><span class="nc"> MyService</span> {
    <span class="nl">version:</span> <span class="s2">&quot;2017-02-11&quot;</span>,
    <span class="nl">operations:</span> [<span class="vc">GetServerTime</span>],
}

<span class="nd">@readonly</span>
<span class="kd">operation</span><span class="nc"> GetServerTime</span> {
    <span class="nl">output:</span> <span class="vc">GetServerTimeOutput</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyService&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;service&quot;</span><span class="p">,</span>
            <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-02-11&quot;</span><span class="p">,</span>
            <span class="nt">&quot;operations&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#GetServerTime&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#GetServerTime&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;operation&quot;</span><span class="p">,</span>
            <span class="nt">&quot;output&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#GetServerTimeOutput&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="service-resources">
<span id="id17"></span><h4><a href="#service-resources">3.5.1.2. Service resources</a></h4>
<p><a class="reference internal" href="#resource"><span class="std std-ref">Resource</span></a> shapes can be bound to a service by adding the
shape ID of a resource to the <code class="docutils literal notranslate"><span class="pre">resources</span></code> property of a service.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">service</span><span class="nc"> MyService</span> {
    <span class="nl">version:</span> <span class="s2">&quot;2017-02-11&quot;</span>,
    <span class="nl">resources:</span> [<span class="vc">MyResource</span>],
}

<span class="kd">resource</span><span class="nc"> MyResource</span> {}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyService&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;service&quot;</span><span class="p">,</span>
            <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-02-11&quot;</span><span class="p">,</span>
            <span class="nt">&quot;resources&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#MyResource&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#MyResource&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;resource&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="service-closure">
<span id="id18"></span><h4><a href="#service-closure">3.5.1.3. Service closure</a></h4>
<p>The <em>closure</em> of a service is the set of shapes connected to a service
through resources, operations, and members.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">With some exceptions, the shapes that are referenced in the <em>closure</em>
of a service MUST have case-insensitively unique names regardless of
their namespace.</p>
</div>
<p>By requiring unique names within a service, each service forms a
<a class="reference external" href="https://martinfowler.com/bliki/UbiquitousLanguage.html">ubiquitous language</a>, making it easier for developers to understand the
model and artifacts generated from the model, like code. For example, when
using Java code generated from a Smithy model, a developer should not need
to discern between <code class="docutils literal notranslate"><span class="pre">BadRequestException</span></code> classes across multiple packages
that can be thrown by an operation. Uniqueness is required
case-insensitively because many model transformations (like code generation)
change the casing and inflection of shape names to make artifacts more
idiomatic.</p>
<p><a class="reference internal" href="#simple-types"><span class="std std-ref">Simple types</span></a> and <a class="reference internal" href="#list"><span class="std std-ref">lists</span></a> or
<a class="reference internal" href="#set"><span class="std std-ref">sets</span></a> of compatible simple types are allowed to conflict because
a conflict for these type would rarely have an impact on generated artifacts.
These kinds of conflicts are only allowed if both conflicting shapes are the
same type and have the exact same traits.</p>
<p>An operation or resource MUST NOT be bound to multiple shapes within the
closure of a service. This constraint allows services to discern between
operations and resources using only their shape name rather than a
fully-qualified path from the service to the shape.</p>
</div>
</div>
<div class="section" id="operation">
<span id="id19"></span><h3><a href="#operation">3.5.2. Operation</a></h3>
<p>The <em class="dfn">operation</em> type represents the input, output, and possible errors of
an API operation. Operation shapes are bound to <a class="reference internal" href="#resource"><span class="std std-ref">resource</span></a>
shapes and <a class="reference internal" href="#service"><span class="std std-ref">service</span></a> shapes. An operation shape is defined by
the following grammar:</p>
<pre>
<strong id="grammar-token-operation_statement">operation_statement</strong> =
    &quot;operation&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-node_object"><code class="xref docutils literal notranslate"><span class="pre">node_object</span></code></a>
</pre>
<p>An operation supports the following members:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#operation-input"><span class="std std-ref">input</span></a></td>
<td>The optional input <a class="reference internal" href="#structure"><span class="std std-ref">structure</span></a> of the operation.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#operation-output"><span class="std std-ref">output</span></a></td>
<td>The optional output <a class="reference internal" href="#structure"><span class="std std-ref">structure</span></a> of the operation.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#operation-errors"><span class="std std-ref">errors</span></a></td>
<td>Defines the errors that an operation can return using a set of
shape IDs that MUST target <a class="reference internal" href="#structure"><span class="std std-ref">structure</span></a> shapes that
are marked with the <a class="reference internal" href="type-refinement-traits.html#error-trait"><span class="std std-ref">error trait</span></a>.</td>
</tr>
</tbody>
</table>
<p>The following example defines an operation shape that accepts an input
structure named <code class="docutils literal notranslate"><span class="pre">Input</span></code>, returns an output structure named <code class="docutils literal notranslate"><span class="pre">Output</span></code>, and
can potentially return the <code class="docutils literal notranslate"><span class="pre">NotFound</span></code> or <code class="docutils literal notranslate"><span class="pre">BadRequest</span></code>
<a class="reference internal" href="type-refinement-traits.html#error-trait"><span class="std std-ref">error structures</span></a>.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">operation</span><span class="nc"> MyOperation</span> {
    <span class="nl">input:</span> <span class="vc">Input</span>,
    <span class="nl">output:</span> <span class="vc">Output</span>,
    <span class="nl">errors:</span> [<span class="vc">NotFound</span>, <span class="vc">BadRequest</span>]
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyOperation&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;operation&quot;</span><span class="p">,</span>
            <span class="nt">&quot;input&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#Input&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;output&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#Output&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;errors&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#NotFound&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#BadRequest&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="operation-input">
<span id="id20"></span><h4><a href="#operation-input">3.5.2.1. Operation input</a></h4>
<p>The input of an operation is an optional shape ID that MUST target a
structure shape. An operation is not required to accept input.</p>
<p>The following example defines an operation that accepts an input structure
named <code class="docutils literal notranslate"><span class="pre">Input</span></code>:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">operation</span><span class="nc"> MyOperation</span> {
    <span class="nl">input:</span> <span class="vc">Input</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyOperation&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;operation&quot;</span><span class="p">,</span>
            <span class="nt">&quot;input&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#Input&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="operation-output">
<span id="id21"></span><h4><a href="#operation-output">3.5.2.2. Operation output</a></h4>
<p>The output of an operation is an optional shape ID that MUST target a
structure shape. An operation is not required to return output.</p>
<p>The following example defines an operation that returns an output
structure named <code class="docutils literal notranslate"><span class="pre">Output</span></code>:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">operation</span><span class="nc"> MyOperation</span> {
    <span class="nl">output:</span> <span class="vc">Output</span>
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyOperation&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;operation&quot;</span><span class="p">,</span>
            <span class="nt">&quot;output&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#Output&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="operation-errors">
<span id="id22"></span><h4><a href="#operation-errors">3.5.2.3. Operation errors</a></h4>
<p>The optional <code class="docutils literal notranslate"><span class="pre">errors</span></code> property of an operation represent the errors that
can potentially occur when calling the operation. This property is a set
of shape IDs that MUST target <a class="reference internal" href="#structure"><span class="std std-ref">structure</span></a> shapes that are
marked with the <a class="reference internal" href="type-refinement-traits.html#error-trait"><span class="std std-ref">error trait</span></a>.</p>
<p>The following example defines an operation shape that accepts no input,
returns no output, and can potentially return the
<code class="docutils literal notranslate"><span class="pre">NotFound</span></code> or <code class="docutils literal notranslate"><span class="pre">BadRequest</span></code> errors.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">operation</span><span class="nc"> MyOperation</span> {
    <span class="nl">errors:</span> [<span class="vc">NotFound</span>, <span class="vc">BadRequest</span>]
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyOperation&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;operation&quot;</span><span class="p">,</span>
            <span class="nt">&quot;errors&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#NotFound&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#BadRequest&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="resource">
<span id="id23"></span><h3><a href="#resource">3.5.3. Resource</a></h3>
<p>Smithy defines a <em class="dfn">resource</em> as an entity with an identity that has a
set of operations. A resource shape is defined by the following grammar:</p>
<pre>
<strong id="grammar-token-resource_statement">resource_statement</strong> =
    &quot;resource&quot; <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-ws"><code class="xref docutils literal notranslate"><span class="pre">ws</span></code></a> <a class="reference internal" href="lexical-structure.html#grammar-token-node_object"><code class="xref docutils literal notranslate"><span class="pre">node_object</span></code></a>
</pre>
<p>A resource supports the following members:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="10%" />
<col width="30%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#resource-identifiers"><span class="std std-ref">identifiers</span></a></td>
<td>Map&lt;String, <a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">Shape ID</span></a>&gt;</td>
<td>Defines identifier names and shape IDs used to identify the resource.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#create-lifecycle"><span class="std std-ref">create</span></a></td>
<td><a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">Shape ID</span></a></td>
<td>Defines the lifecycle operation used to create a resource using one
or more identifiers created by the service.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#put-lifecycle"><span class="std std-ref">put</span></a></td>
<td><a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">Shape ID</span></a></td>
<td>Defines an idempotent lifecycle operation used to create a resource
using identifiers provided by the client.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#read-lifecycle"><span class="std std-ref">read</span></a></td>
<td><a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">Shape ID</span></a></td>
<td>Defines the lifecycle operation used to retrieve the resource.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#update-lifecycle"><span class="std std-ref">update</span></a></td>
<td><a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">Shape ID</span></a></td>
<td>Defines the lifecycle operation used to update the resource.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#delete-lifecycle"><span class="std std-ref">delete</span></a></td>
<td><a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">Shape ID</span></a></td>
<td>Defines the lifecycle operation used to delete the resource.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list-lifecycle"><span class="std std-ref">list</span></a></td>
<td><a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">Shape ID</span></a></td>
<td>Defines the lifecycle operation used to list resources of this type.</td>
</tr>
<tr class="row-odd"><td>operations</td>
<td>[<a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">Shape ID</span></a>]</td>
<td>Binds a list of non-lifecycle instance operations to the resource.</td>
</tr>
<tr class="row-even"><td>collectionOperations</td>
<td>[<a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">Shape ID</span></a>]</td>
<td>Binds a list of non-lifecycle collection operations to the resource.</td>
</tr>
<tr class="row-odd"><td>resources</td>
<td>[<a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">Shape ID</span></a>]</td>
<td>Binds a list of resources to this resource as a child resource,
forming a containment relationship. The resources MUST NOT have a
cyclical containment hierarchy, and a resource can not be bound more
than once in the entire closure of a resource or service.</td>
</tr>
</tbody>
</table>
<div class="section" id="resource-identifiers">
<span id="identifiers"></span><h4><a href="#resource-identifiers">3.5.3.1. Identifiers</a></h4>
<p><em class="dfn">Identifiers</em> are used to refer to a specific resource within a service.
The identifiers property of a resource is a map of identifier names to
<a class="reference internal" href="lexical-structure.html#shape-id"><span class="std std-ref">shape IDs</span></a> that MUST target string shapes.</p>
<p>For example, the following model defines a <code class="docutils literal notranslate"><span class="pre">Forecast</span></code> resource with a
single identifier named <code class="docutils literal notranslate"><span class="pre">forecastId</span></code> that targets the <code class="docutils literal notranslate"><span class="pre">ForecastId</span></code> shape:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">namespace</span><span class="nc"> smithy.example</span>

<span class="kd">resource</span><span class="nc"> Forecast</span> {
    <span class="nl">identifiers:</span> {
        <span class="nl">forecastId:</span> <span class="vc">ForecastId</span>
    }
}

<span class="kd">string</span><span class="nc"> ForecastId</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#Forecast&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;resource&quot;</span><span class="p">,</span>
            <span class="nt">&quot;identifiers&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;forecastId&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#ForecastId&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#ForecastId&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>When a resource is bound as a child to another resource using the &quot;resources&quot;
property, all of the identifiers of the parent resource MUST be repeated
verbatim in the child resource, and the child resource MAY introduce any
number of additional identifiers.</p>
<p><em class="dfn">Parent identifiers</em> are the identifiers of the parent of a resource.
All parent identifiers MUST be bound as identifiers in the input of every
operation bound as a child to a resource. <em class="dfn">Child identifiers</em> are the
identifiers that a child resource contains that are not present in the parent
identifiers.</p>
<p>For example, given the following model,</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">resource</span><span class="nc"> ResourceA</span> {
    <span class="nl">identifiers:</span> {
        <span class="nl">a:</span> <span class="vc">String</span>
    },
    <span class="nl">resources:</span> [<span class="vc">ResourceB</span>],
}

<span class="kd">resource</span><span class="nc"> ResourceB</span> {
    <span class="nl">identifiers:</span> {
        <span class="nl">a:</span> <span class="vc">String</span>,
        <span class="nl">b:</span> <span class="vc">String</span>,
    },
    <span class="nl">resources:</span> [<span class="vc">ResourceC</span>],
}

<span class="kd">resource</span><span class="nc"> ResourceC</span> {
    <span class="nl">identifiers:</span> {
        <span class="nl">a:</span> <span class="vc">String</span>,
        <span class="nl">b:</span> <span class="vc">String</span>,
        <span class="nl">c:</span> <span class="vc">String</span>,
    }
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#ResourceA&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;resource&quot;</span><span class="p">,</span>
            <span class="nt">&quot;resources&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#ResourceB&quot;</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="nt">&quot;identifiers&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#ResourceB&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;resource&quot;</span><span class="p">,</span>
            <span class="nt">&quot;resources&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#ResourceC&quot;</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="nt">&quot;identifiers&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;b&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#ResourceC&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;resource&quot;</span><span class="p">,</span>
            <span class="nt">&quot;identifiers&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;b&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;c&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ResourceB</span></code> is a valid child of <code class="docutils literal notranslate"><span class="pre">ResourceA</span></code> and contains a child
identifier of &quot;b&quot;. <code class="docutils literal notranslate"><span class="pre">ResourceC</span></code> is a valid child of <code class="docutils literal notranslate"><span class="pre">ResourceB</span></code> and
contains a child identifier of &quot;c&quot;.</p>
<p>However, the following defines two <em>invalid</em> child resources that do not
define an <code class="docutils literal notranslate"><span class="pre">identifiers</span></code> property that is compatible with their parents:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">resource</span><span class="nc"> ResourceA</span> {
    <span class="nl">identifiers:</span> {
        <span class="nl">a:</span> <span class="vc">String</span>,
        <span class="nl">b:</span> <span class="vc">String</span>,
    },
    <span class="nl">resources:</span> [<span class="vc">Invalid1</span>, <span class="vc">Invalid2</span>],
}

<span class="kd">resource</span><span class="nc"> Invalid1</span> {
    <span class="c">// Invalid: missing &quot;a&quot;.</span>
    <span class="nl">identifiers:</span> {
        <span class="nl">b:</span> <span class="vc">String</span>,
    },
}

<span class="kd">resource</span><span class="nc"> Invalid2</span> {
    <span class="nl">identifiers:</span> {
        <span class="nl">a:</span> <span class="vc">String</span>,
        <span class="c">// Invalid: does not target the same shape.</span>
        <span class="nl">b:</span> <span class="vc">SomeOtherString</span>,
    },
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#ResourceA&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;resource&quot;</span><span class="p">,</span>
            <span class="nt">&quot;identifiers&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;b&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;resources&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#Invalid1&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#Invalid2&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#Invalid1&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;resource&quot;</span><span class="p">,</span>
            <span class="nt">&quot;identifiers&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;b&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#Invalid2&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;resource&quot;</span><span class="p">,</span>
            <span class="nt">&quot;identifiers&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;b&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#SomeOtherString&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="binding-identifiers-to-operations">
<span id="binding-identifiers"></span><h4><a href="#binding-identifiers-to-operations">3.5.3.2. Binding identifiers to operations</a></h4>
<p><em>Identifier bindings</em> indicate which top-level members of the input structure
of an operation provide values for the identifiers of a resource.</p>
<p><strong>Validation</strong></p>
<ul class="simple">
<li>Child resources MUST provide identifier bindings for all of its parent's
identifiers.</li>
<li>Identifier bindings are only formed on input structure members that are
marked as <a class="reference internal" href="constraint-traits.html#required-trait"><span class="std std-ref">required</span></a>.</li>
<li>Resource operations MUST form a valid <em>instance operation</em> or
<em>collection operation</em>.</li>
</ul>
<p id="instance-operations"><em class="dfn">Instance operations</em> are formed when all of the identifiers of a resource
are bound to the input structure of an operation or when a resource has no
identifiers. The <a class="reference internal" href="#put-lifecycle"><span class="std std-ref">put</span></a>, <a class="reference internal" href="#read-lifecycle"><span class="std std-ref">read</span></a>,
<a class="reference internal" href="#update-lifecycle"><span class="std std-ref">update</span></a>, and <a class="reference internal" href="#delete-lifecycle"><span class="std std-ref">delete</span></a>
lifecycle operations are examples of instance operations. An operation bound
to a resource using <cite>operations</cite> MUST form a valid instance operation.</p>
<p id="collection-operations"><em class="dfn">Collection operations</em> are used when an operation is meant to operate on
a collection of resources rather than a specific resource. Collection
operations are formed when an operation is bound to a resource with <cite>collectionOperations</cite>,
or when bound to the <a class="reference internal" href="#list-lifecycle"><span class="std std-ref">list</span></a> or <a class="reference internal" href="#create-lifecycle"><span class="std std-ref">create</span></a>
lifecycle operations. A collection operation MUST omit one or more identifiers
of the resource it is bound to, but MUST bind all identifiers of any parent
resource.</p>
</div>
<div class="section" id="implicit-identifier-bindings">
<span id="id24"></span><h4><a href="#implicit-identifier-bindings">3.5.3.3. Implicit identifier bindings</a></h4>
<p><em>Implicit identifier bindings</em> are formed when the input of an operation
contains member names that target the same shapes that are defined in the
&quot;identifiers&quot; property of the resource to which an operation is bound.</p>
<p>For example, given the following model,</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">resource</span><span class="nc"> Forecast</span> {
    <span class="nl">identifiers:</span> {
        <span class="nl">forecastId:</span> <span class="vc">ForecastId</span>,
    },
    <span class="nl">read:</span> <span class="vc">GetForecast</span>,
}

<span class="nd">@readonly</span>
<span class="kd">operation</span><span class="nc"> GetForecast</span> {
    <span class="nl">input:</span> <span class="vc">GetForecastInput</span>,
    <span class="nl">output:</span> <span class="vc">GetForecastOutput</span>
}

<span class="kd">structure</span><span class="nc"> GetForecastInput</span> {
    <span class="nd">@required</span>
    <span class="nl">forecastId:</span> <span class="vc">ForecastId</span>,
}

<span class="kd">structure</span><span class="nc"> GetForecastOutput</span> {
    <span class="nd">@required</span>
    <span class="nl">weather:</span> <span class="vc">WeatherData</span>,
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#Forecast&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;resource&quot;</span><span class="p">,</span>
            <span class="nt">&quot;identifiers&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;forecastId&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#ForecastId&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;read&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#GetForecast&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#GetForecast&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;operation&quot;</span><span class="p">,</span>
            <span class="nt">&quot;input&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#GetForecastInput&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;output&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#GetForecastOutput&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.api#readonly&quot;</span><span class="p">:</span> <span class="p">{}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#GetForecastInput&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;structure&quot;</span><span class="p">,</span>
            <span class="nt">&quot;members&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;forecastId&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#ForecastId&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;smithy.api#required&quot;</span><span class="p">:</span> <span class="p">{}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#GetForecastOutput&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;structure&quot;</span><span class="p">,</span>
            <span class="nt">&quot;members&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;weather&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#WeatherData&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;smithy.api#required&quot;</span><span class="p">:</span> <span class="p">{}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">GetForecast</span></code> forms a valid instance operation because the operation is
not marked with the <code class="docutils literal notranslate"><span class="pre">collection</span></code> trait and <code class="docutils literal notranslate"><span class="pre">GetForecastInput</span></code> provides
<em>implicit identifier bindings</em> by defining a required &quot;forecastId&quot; member
that targets the same shape as the &quot;forecastId&quot; identifier of the resource.</p>
<p>Implicit identifier bindings for collection operations are created in a
similar way to an instance operation, but MUST NOT contain identifier bindings
for <em>all</em> child identifiers of the resource.</p>
<p>Given the following model,</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-U21pdGh5 docutils container">
<div class="docutils container">
Smithy</div>
</div>
<div class="item sphinx-data-tab-SlNPTg== docutils container">
<div class="docutils container">
JSON</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-U21pdGh5 active docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">resource</span><span class="nc"> Forecast</span> {
    <span class="nl">identifiers:</span> {
        <span class="nl">forecastId:</span> <span class="vc">ForecastId</span>,
    },
    <span class="nl">collectionOperations:</span> [<span class="vc">BatchPutForecasts</span>],
}

<span class="kd">operation</span><span class="nc"> BatchPutForecasts</span> {
    <span class="nl">input:</span> <span class="vc">BatchPutForecastsInput</span>,
    <span class="nl">output:</span> <span class="vc">BatchPutForecastsOutput</span>
}

<span class="kd">structure</span><span class="nc"> BatchPutForecastsInput</span> {
    <span class="nd">@required</span>
    <span class="nl">forecasts:</span> <span class="vc">BatchPutForecastList</span>,
}
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SlNPTg== docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#Forecast&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;resource&quot;</span><span class="p">,</span>
            <span class="nt">&quot;identifiers&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;forecastId&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#ForecastId&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;collectionOperations&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#BatchPutForecasts&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#BatchPutForecasts&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;operation&quot;</span><span class="p">,</span>
            <span class="nt">&quot;input&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#BatchPutForecastsInput&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;output&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#BatchPutForecastsOutput&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#BatchPutForecastsInput&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;structure&quot;</span><span class="p">,</span>
            <span class="nt">&quot;members&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;forecasts&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#BatchPutForecastList&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;smithy.api#required&quot;</span><span class="p">:</span> <span class="p">{}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">BatchPutForecasts</span></code> forms a valid collection operation with implicit
identifier bindings because <code class="docutils literal notranslate"><span class="pre">BatchPutForecastsInput</span></code> does not require an
input member named &quot;forecastId&quot; that targets <code class="docutils literal notranslate"><span class="pre">ForecastId</span></code>.</p>
</div>
<div class="section" id="explicit-identifier-bindings">
<h4><a href="#explicit-identifier-bindings">3.5.3.4. Explicit identifier bindings</a></h4>
<p><em>Explicit identifier bindings</em> are defined by applying the
<a class="reference internal" href="resource-traits.html#resourceidentifier-trait"><span class="std std-ref">resourceIdentifier trait</span></a> to a member of the input of for an
operation bound to a resource. Explicit bindings are necessary when the name of
the input structure member differs from the name of the resource identifier to
which the input member corresponds.</p>
<p>For example, given the following,</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">resource</span><span class="nc"> Forecast</span> {
    <span class="c">// continued from above</span>
    <span class="nl">resources:</span> [<span class="vc">HistoricalForecast</span>],
}

<span class="kd">resource</span><span class="nc"> HistoricalForecast</span> {
    <span class="nl">identifiers:</span> {
        <span class="nl">forecastId:</span> <span class="vc">ForecastId</span>,
        <span class="nl">historicalId:</span> <span class="vc">HistoricalForecastId</span>,
    },
    <span class="nl">read:</span> <span class="vc">GetHistoricalForecast</span>,
    <span class="nl">list:</span> <span class="vc">ListHistoricalForecasts</span>,
}

<span class="nd">@readonly</span>
<span class="kd">operation</span><span class="nc"> GetHistoricalForecast</span> {
    <span class="nl">input:</span> <span class="vc">GetHistoricalForecastInput</span>,
    <span class="nl">output:</span> <span class="vc">GetHistoricalForecastOutput</span>
}

<span class="kd">structure</span><span class="nc"> GetHistoricalForecastInput</span> {
    <span class="nd">@required</span>
    <span class="nd">@resourceIdentifier</span>(<span class="s2">&quot;forecastId&quot;</span>)
    <span class="nl">customForecastIdName:</span> <span class="vc">ForecastId</span>,

    <span class="nd">@required</span>
    <span class="nd">@resourceIdentifier</span>(<span class="s2">&quot;historicalId&quot;</span>)
    <span class="nl">customHistoricalIdName:</span> <span class="vc">String</span>
}
</pre></div>
</div>
<p>the <a class="reference internal" href="resource-traits.html#resourceidentifier-trait"><span class="std std-ref">resourceIdentifier trait</span></a> on <code class="docutils literal notranslate"><span class="pre">GetHistoricalForecastInput$customForecastIdName</span></code>
maps it to the &quot;forecastId&quot; identifier is provided by the
&quot;customForecastIdName&quot; member, and the <a class="reference internal" href="resource-traits.html#resourceidentifier-trait"><span class="std std-ref">resourceIdentifier trait</span></a>
on <code class="docutils literal notranslate"><span class="pre">GetHistoricalForecastInput$customHistoricalIdName</span></code> maps that member
to the &quot;historicalId&quot; identifier.</p>
</div>
<div class="section" id="lifecycle-operations">
<span id="id25"></span><h4><a href="#lifecycle-operations">3.5.3.5. Lifecycle operations</a></h4>
<p><em class="dfn">Lifecycle operations</em> are used to transition the state of a resource
using well-defined semantics. Lifecycle operations are defined by setting the
<code class="docutils literal notranslate"><span class="pre">put</span></code>, <code class="docutils literal notranslate"><span class="pre">create</span></code>, <code class="docutils literal notranslate"><span class="pre">read</span></code>, <code class="docutils literal notranslate"><span class="pre">update</span></code>, <code class="docutils literal notranslate"><span class="pre">delete</span></code>, and <code class="docutils literal notranslate"><span class="pre">list</span></code> properties
of a resource to target an operation shape.</p>
<p>The following snippet defines a resource with each lifecycle method:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">resource</span><span class="nc"> Forecast</span> {
    <span class="nl">identifiers:</span> {
        <span class="nl">forecastId:</span> <span class="vc">ForecastId</span>,
    },
    <span class="nl">put:</span> <span class="vc">PutForecast</span>,
    <span class="nl">create:</span> <span class="vc">CreateForecast</span>,
    <span class="nl">read:</span> <span class="vc">GetForecast</span>,
    <span class="nl">update:</span> <span class="vc">UpdateForecast</span>,
    <span class="nl">delete:</span> <span class="vc">DeleteForecast</span>,
    <span class="nl">list:</span> <span class="vc">ListForecasts</span>,
}
</pre></div>
</div>
</div>
<div class="section" id="put-lifecycle">
<span id="id26"></span><h4><a href="#put-lifecycle">3.5.3.6. Put lifecycle</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">put</span></code> lifecycle operation is used to create a resource using identifiers
provided by the client.</p>
<p><strong>Validation</strong></p>
<ul class="simple">
<li>Put operations MUST NOT be marked with <a class="reference internal" href="behavior-traits.html#readonly-trait"><span class="std std-ref">readonly trait</span></a>.</li>
<li>Put operations MUST be marked with <a class="reference internal" href="behavior-traits.html#idempotent-trait"><span class="std std-ref">idempotent trait</span></a>.</li>
<li>Put operations MUST form valid <a class="reference internal" href="#instance-operations"><span class="std std-ref">instance operations</span></a>.</li>
</ul>
<p>The following snippet defines the <code class="docutils literal notranslate"><span class="pre">PutForecast</span></code> operation.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">operation</span><span class="nc"> PutForecast</span> {
    <span class="nl">input:</span> <span class="vc">PutForecastInput</span>,
    <span class="nl">output:</span> <span class="vc">PutForecastOutput</span>
}

<span class="nd">@idempotent</span>
<span class="kd">structure</span><span class="nc"> PutForecastInput</span> {
    <span class="c">// The client provides the resource identifier.</span>
    <span class="nd">@required</span>
    <span class="nl">forecastId:</span> <span class="vc">ForecastId</span>,

    <span class="nl">chanceOfRain:</span> <span class="vc">Float</span>
}
</pre></div>
</div>
<p>The semantics of a <code class="docutils literal notranslate"><span class="pre">put</span></code> lifecycle operation are similar to the semantics
of an <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-4.3.4">HTTP PUT method</a>:</p>
<blockquote>
<div>The PUT method requests that the state of the target resource be
created or replaced ...</div></blockquote>
<p>The <a class="reference internal" href="resource-traits.html#noreplace-trait"><span class="std std-ref">noReplace trait</span></a> can be applied to resources that define a
<code class="docutils literal notranslate"><span class="pre">put</span></code> lifecycle operation to indicate that a resource cannot be
replaced using the <code class="docutils literal notranslate"><span class="pre">put</span></code> operation.</p>
</div>
<div class="section" id="create-lifecycle">
<span id="id27"></span><h4><a href="#create-lifecycle">3.5.3.7. Create lifecycle</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">create</span></code> operation is used to create a resource using one or more
identifiers created by the service.</p>
<p><strong>Validation</strong></p>
<ul class="simple">
<li>Create operations MUST NOT be marked with <a class="reference internal" href="behavior-traits.html#readonly-trait"><span class="std std-ref">readonly trait</span></a>.</li>
<li>Create operations MUST form valid <a class="reference internal" href="#collection-operations"><span class="std std-ref">collection operations</span></a>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">create</span></code> operation MAY be marked with <a class="reference internal" href="behavior-traits.html#idempotent-trait"><span class="std std-ref">idempotent trait</span></a>.</li>
</ul>
<p>The following snippet defines the <code class="docutils literal notranslate"><span class="pre">CreateForecast</span></code> operation.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">operation</span><span class="nc"> CreateForecast</span> {
    <span class="nl">input:</span> <span class="vc">CreateForecastInput</span>,
    <span class="nl">output:</span> <span class="vc">CreateForecastOutput</span>
}

<span class="kd">operation</span><span class="nc"> CreateForecast</span> {
    <span class="nl">input:</span> <span class="vc">CreateForecastInput</span>,
    <span class="nl">output:</span> <span class="vc">CreateForecastOutput</span>
}

<span class="kd">structure</span><span class="nc"> CreateForecastInput</span> {
    <span class="c">// No identifier is provided by the client, so the service is</span>
    <span class="c">// responsible for providing the identifier of the resource.</span>
    <span class="nl">chanceOfRain:</span> <span class="vc">Float</span>,
}
</pre></div>
</div>
</div>
<div class="section" id="read-lifecycle">
<span id="id28"></span><h4><a href="#read-lifecycle">3.5.3.8. Read lifecycle</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">read</span></code> operation is the canonical operation used to retrieve the current
representation of a resource.</p>
<p><strong>Validation</strong></p>
<ul class="simple">
<li>Read operations MUST be valid <a class="reference internal" href="#instance-operations"><span class="std std-ref">instance operations</span></a>.</li>
<li>Read operations MUST be marked with <a class="reference internal" href="behavior-traits.html#readonly-trait"><span class="std std-ref">readonly trait</span></a>.</li>
</ul>
<p>For example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@readonly</span>
<span class="kd">operation</span><span class="nc"> GetForecast</span> {
    <span class="nl">input:</span> <span class="vc">GetForecastInput</span>,
    <span class="nl">output:</span> <span class="vc">GetForecastOutput</span>,
    <span class="nl">errors:</span> [<span class="vc">ResourceNotFound</span>]
}

<span class="kd">structure</span><span class="nc"> GetForecastInput</span> {
    <span class="nd">@required</span>
    <span class="nl">forecastId:</span> <span class="vc">ForecastId</span>,
}
</pre></div>
</div>
</div>
<div class="section" id="update-lifecycle">
<span id="id29"></span><h4><a href="#update-lifecycle">3.5.3.9. Update lifecycle</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">update</span></code> operation is the canonical operation used to update a
resource.</p>
<p><strong>Validation</strong></p>
<ul class="simple">
<li>Update operations MUST be valid <a class="reference internal" href="#instance-operations"><span class="std std-ref">instance operations</span></a>.</li>
<li>Update operations MUST NOT be marked with <a class="reference internal" href="behavior-traits.html#readonly-trait"><span class="std std-ref">readonly trait</span></a>.</li>
</ul>
<p>For example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">operation</span><span class="nc"> UpdateForecast</span> {
    <span class="nl">input:</span> <span class="vc">UpdateForecastInput</span>,
    <span class="nl">output:</span> <span class="vc">UpdateForecastOutput</span>,
    <span class="nl">errors:</span> [<span class="vc">ResourceNotFound</span>]
}

<span class="kd">structure</span><span class="nc"> UpdateForecastInput</span> {
    <span class="nd">@required</span>
    <span class="nl">forecastId:</span> <span class="vc">ForecastId</span>,

    <span class="nl">chanceOfRain:</span> <span class="vc">Float</span>,
}
</pre></div>
</div>
</div>
<div class="section" id="delete-lifecycle">
<span id="id30"></span><h4><a href="#delete-lifecycle">3.5.3.10. Delete lifecycle</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">delete</span></code> operation is canonical operation used to delete a resource.</p>
<p><strong>Validation</strong></p>
<ul class="simple">
<li>Delete operations MUST be valid <a class="reference internal" href="#instance-operations"><span class="std std-ref">instance operations</span></a>.</li>
<li>Delete operations MUST NOT be marked with <a class="reference internal" href="behavior-traits.html#readonly-trait"><span class="std std-ref">readonly trait</span></a>.</li>
<li>Delete operations MUST be marked with <a class="reference internal" href="behavior-traits.html#idempotent-trait"><span class="std std-ref">idempotent trait</span></a>.</li>
</ul>
<p>For example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@idempotent</span>
<span class="kd">operation</span><span class="nc"> DeleteForecast</span> {
    <span class="nl">input:</span> <span class="vc">DeleteForecastInput</span>,
    <span class="nl">output:</span> <span class="vc">DeleteForecastOutput</span>,
    <span class="nl">errors:</span> [<span class="vc">ResourceNotFound</span>]
}

<span class="kd">structure</span><span class="nc"> DeleteForecastInput</span> {
    <span class="nd">@required</span>
    <span class="nl">forecastId:</span> <span class="vc">ForecastId</span>,
}
</pre></div>
</div>
</div>
<div class="section" id="list-lifecycle">
<span id="id31"></span><h4><a href="#list-lifecycle">3.5.3.11. List lifecycle</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">list</span></code> operation is the canonical operation used to list a
collection of resources.</p>
<p><strong>Validation</strong></p>
<ul class="simple">
<li>List operations MUST form valid <a class="reference internal" href="#collection-operations"><span class="std std-ref">collection operations</span></a>.</li>
<li>List operations MUST be marked with <a class="reference internal" href="behavior-traits.html#readonly-trait"><span class="std std-ref">readonly trait</span></a>.</li>
<li>The output of a list operation SHOULD contain references to the resource
being listed.</li>
<li>List operations SHOULD be <a class="reference internal" href="behavior-traits.html#paginated-trait"><span class="std std-ref">paginated</span></a>.</li>
</ul>
<p>For example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@readonly</span> <span class="nd">@paginated</span>
<span class="kd">operation</span><span class="nc"> ListForecasts</span> {
    <span class="nl">input:</span> <span class="vc">ListForecastsInput</span>,
    <span class="nl">output:</span> <span class="vc">ListForecastsOutput</span>
}

<span class="kd">structure</span><span class="nc"> ListForecastsInput</span> {
    <span class="nl">maxResults:</span> <span class="vc">Integer</span>,
    <span class="nl">nextToken:</span> <span class="vc">String</span>
}

<span class="kd">structure</span><span class="nc"> ListForecastsOutput</span> {
    <span class="nl">nextToken:</span> <span class="vc">String</span>,
    <span class="nd">@required</span>
    <span class="nl">forecasts:</span> <span class="vc">ForecastList</span>
}

<span class="kd">list</span><span class="nc"> ForecastList</span> {
    <span class="nl">member:</span> <span class="vc">ForecastId</span>
}
</pre></div>
</div>
</div>
<div class="section" id="referencing-resources">
<span id="id32"></span><h4><a href="#referencing-resources">3.5.3.12. Referencing resources</a></h4>
<p>References between resources can be defined in a Smithy model at design-time.
Resource references allow tooling to understand the relationships between
resources and how to dereference the location of a resource.</p>
<p>A reference to a resource is formed when the <a class="reference internal" href="resource-traits.html#references-trait"><span class="std std-ref">references trait</span></a>
is applied to a structure or string shape. The following example creates a
reference to a <code class="docutils literal notranslate"><span class="pre">HistoricalForecast</span></code> resource (a resource that requires the
&quot;forecastId&quot; and &quot;historicalId&quot; identifiers):</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@references</span>([{<span class="nl">resource:</span> <span class="vc">HistoricalForecast</span>}])
<span class="kd">structure</span><span class="nc"> HistoricalReference</span> {
    <span class="nl">forecastId:</span> <span class="vc">ForecastId</span>,
    <span class="nl">historicalId:</span> <span class="vc">HistoricalForecastId</span>
}
</pre></div>
</div>
<p>Notice that in the above example, the identifiers of the resource were not
explicitly mapped to structure members. This is because the targeted structure
contains members with names that match the names of the identifiers of the
<code class="docutils literal notranslate"><span class="pre">HistoricalForecast</span></code> resource.</p>
<p>Explicit mappings between identifier names and structure member names can be
defined if needed. For example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@references</span>([
    {
        <span class="nl">resource:</span> <span class="vc">HistoricalForecast</span>,
        <span class="nl">ids:</span> {
            <span class="nl">forecastId:</span> <span class="s2">&quot;customForecastId&quot;</span>,
            <span class="nl">historicalId:</span> <span class="s2">&quot;customHistoricalId&quot;</span>
        }
    }
])
<span class="kd">structure</span><span class="nc"> AnotherHistoricalReference</span> {
    <span class="nl">customForecastId:</span> <span class="vc">String</span>,
    <span class="nl">customHistoricalId:</span> <span class="vc">String</span>,
}
</pre></div>
</div>
<p>A reference can be formed on a string shape for resources that have one
identifier. References applied to a string shape MUST omit the &quot;ids&quot;
property in the reference.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">resource</span><span class="nc"> SimpleResource</span> {
    <span class="nl">identifiers:</span> {
        <span class="nl">foo:</span> <span class="vc">String</span>,
    }
}

<span class="nd">@references</span>([{<span class="nl">resource:</span> <span class="vc">SimpleResource</span>}])
<span class="kd">string</span><span class="nc"> SimpleResourceReference</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="resource-traits.html#references-trait"><span class="std std-ref">references trait</span></a> for more information about references.</p>
</div>
</div>
</div>
</div>


                    
                    <section class="relations">
                        
                        <a href="lexical-structure.html" title="previous chapter" class="previous-page clearfix hidden-xs">‚Üê 2. Smithy IDL lexical structure</a>
                        
                        <a href="prelude-model.html" title="next chapter" class="next-page clearfix">4. Prelude model ‚Üí</a>
                    </section>
                    
                </article><aside id="right-column" class="side-column hidden-sm">
                    <div class="column-body">
                        <section class="sidebar">
                            
                            <section class="next-previous">
                                
                                <a href="lexical-structure.html" title="previous chapter" class="previous-page clearfix hidden-xs">‚Üê Prev</a>
                                
                                <a href="prelude-model.html" title="next chapter" class="next-page clearfix">Next ‚Üí</a>
                            </section>
                            
                            <ul>
<li><a class="reference internal" href="#">3. Shapes</a><ul>
<li><a class="reference internal" href="#shape-section">3.1. Shape section</a><ul>
<li><a class="reference internal" href="#namespaces">3.1.1. Namespaces</a></li>
<li><a class="reference internal" href="#referring-to-shapes">3.1.2. Referring to shapes</a><ul>
<li><a class="reference internal" href="#relative-shape-id-resolution">3.1.2.1. Relative shape ID resolution</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#defining-shapes">3.2. Defining shapes</a><ul>
<li><a class="reference internal" href="#shape-names">3.2.1. Shape names</a></li>
</ul>
</li>
<li><a class="reference internal" href="#simple-types">3.3. Simple types</a><ul>
<li><a class="reference internal" href="#timestamp-serialization-format">3.3.1. Timestamp serialization format</a></li>
<li><a class="reference internal" href="#document-types">3.3.2. Document types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#aggregate-types">3.4. Aggregate types</a><ul>
<li><a class="reference internal" href="#member">3.4.1. Member</a></li>
<li><a class="reference internal" href="#list">3.4.2. List</a></li>
<li><a class="reference internal" href="#set">3.4.3. Set</a></li>
<li><a class="reference internal" href="#map">3.4.4. Map</a></li>
<li><a class="reference internal" href="#structure">3.4.5. Structure</a></li>
<li><a class="reference internal" href="#union">3.4.6. Union</a></li>
<li><a class="reference internal" href="#default-values">3.4.7. Default values</a></li>
<li><a class="reference internal" href="#recursive-shape-definitions">3.4.8. Recursive shape definitions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#service-types">3.5. Service types</a><ul>
<li><a class="reference internal" href="#service">3.5.1. Service</a><ul>
<li><a class="reference internal" href="#service-operations">3.5.1.1. Service operations</a></li>
<li><a class="reference internal" href="#service-resources">3.5.1.2. Service resources</a></li>
<li><a class="reference internal" href="#service-closure">3.5.1.3. Service closure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#operation">3.5.2. Operation</a><ul>
<li><a class="reference internal" href="#operation-input">3.5.2.1. Operation input</a></li>
<li><a class="reference internal" href="#operation-output">3.5.2.2. Operation output</a></li>
<li><a class="reference internal" href="#operation-errors">3.5.2.3. Operation errors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resource">3.5.3. Resource</a><ul>
<li><a class="reference internal" href="#resource-identifiers">3.5.3.1. Identifiers</a></li>
<li><a class="reference internal" href="#binding-identifiers-to-operations">3.5.3.2. Binding identifiers to operations</a></li>
<li><a class="reference internal" href="#implicit-identifier-bindings">3.5.3.3. Implicit identifier bindings</a></li>
<li><a class="reference internal" href="#explicit-identifier-bindings">3.5.3.4. Explicit identifier bindings</a></li>
<li><a class="reference internal" href="#lifecycle-operations">3.5.3.5. Lifecycle operations</a></li>
<li><a class="reference internal" href="#put-lifecycle">3.5.3.6. Put lifecycle</a></li>
<li><a class="reference internal" href="#create-lifecycle">3.5.3.7. Create lifecycle</a></li>
<li><a class="reference internal" href="#read-lifecycle">3.5.3.8. Read lifecycle</a></li>
<li><a class="reference internal" href="#update-lifecycle">3.5.3.9. Update lifecycle</a></li>
<li><a class="reference internal" href="#delete-lifecycle">3.5.3.10. Delete lifecycle</a></li>
<li><a class="reference internal" href="#list-lifecycle">3.5.3.11. List lifecycle</a></li>
<li><a class="reference internal" href="#referencing-resources">3.5.3.12. Referencing resources</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

                        </section>
                    </div>
                </aside></div>
        </section>
        
    
<footer id="footer">
    <div class="width-wrapper">
        <div class="copyright">
            <p>¬©2020, Amazon Web Services, Inc or its affiliates. All rights reserved.</p>
        </div>
    </div>
</footer>
  </body>
</html>